

**（整理了大家的经验，结合我们的想法形成的讨论稿，希望对大家有帮助。）**

为了更好地记录和总结网络安全学习过程中的网络靶场试验操作和攻防思路，我们整理并撰写了以下建议性规范。此规范的目的是通过完整地记录渗透过程，展现攻击思路，并说明攻击路径的选择和取舍、攻击命令和工具的使用方法，以便于我们自己进行总结复习和知识积累，并且方便他人能够复现和理解，同时也为防御人员修补漏洞程序提供依据。

这即是所说的攻防渗透过程总结，即Writeup，它有别于知识性笔记，后者不在本规范讨论范围。

# 一、原则

建议撰写Writeup时考虑以下原则：

- 写思路：用思路主导行文的起承转合，避免上帝视角。比如，不出现：经过搜索后我使用......，而应该将搜索思路和取舍考量展现出来。比如，不出现：我之前恰好做过......，而应该说明抉择的思路。

- 简洁：不必要的话不说，不主要的话略说。比如没必要用表格或列表这种重的视觉呈现，来展现nmap参数的意义，除非某一个参数很关键、很特别。比如Linux中不应该cat出太长的源码，而应该表明截取起止位置，指明重点的相关的代码段。比如图片和代码段后，不再赘述文字，需要指出的内容，用关键字语句带出即可。

- 客观：尽可能克制主观情绪的表达，不要修改或随意截断命令执行的结果脚本，用执行结果的脚本代码段和图片说明问题。比如，不说我喜欢......操作，而表达出取舍的原因。比如不在命令执行的结果中加入自己的注释，而维持脚本的原貌。比如最后拿到系统权限证据，除了命令执行结果的脚本，还要有全息截图。

- 不剧透：思路就是不知道下一步的情况下思考出路，所以Writeup不能在任何一步剧透下一步，即使一个小小的剧透都是不应该有的上帝视角。相反，剧透的Writeup是不利于阅读者成长的，看Writeup或有不得已，但一般大家也不想一看到底，只是希望就当前卡住的问题有些提示而已。

- Markdown：用Markdown、用标准的Markdown语法、用.md格式，否则你的笔记不能完全掌握在自己手中。

- 利他：关键命令要有脚本代码段，便于他人比较和复用你的命令。

# 二、行文规范

![dff](D:\hack_notes\assets\屏幕截图 2023-04-05 144830.png)

行文逻辑和形式，要服务于更好地呈现内容，为此建议考虑如下行文规范：

- 避免开篇即标题，最好有200字左右的关键且必要的铺陈文字，避免太突兀。
- 避免一个章节内没有统领的文字，而都是列项的情况，但也不用因形害意，注意到这点即可。
- 不建议段首空两格，以避免图、文、代码混排的情况下，页面参差不齐。有公文格式要求的除外。
- 图、文、代码段之间和前后用空行分割，或留出空隙。
- 图片居左，不缩进、不居中，最好填满横向空间。
- 近两年的靶机或商业靶场的靶机，不泄漏Flag等信息，应截断展示或遮盖处理。
- Writeup应全文自解释，避免没有外部内容就无法完整说明渗透过程和思路的情况。也要避免引入相关度不大的外部内容过多，导致主题不清晰，出现喧宾夺主的情况。
- 标题要用Markdown标记和渲染，尤其1、2、3级标题。
- 至少正文最大的标题应该有序号。注意区分符号列表和序号列表功能的差别，正确合理使用。
- 如可能，避免字数仅成行的多段文字集中出现，会显得页面凌乱。

# 三、截图和代码段规范

文字和代码段不便于呈现的、呈现不完整的、不客观的，都可以通过截图呈现。截图和代码段可以重复呈现相同内容，因为目的不一样，往往都有价值。

### 截图的一些建议性约束

- 截图比例尽可能统一，并趋近4:3或16:9。如可能避免长宽比悬殊的截图。
- 截图避免信息泄漏，如收藏夹信息、账户信息、邮件或微信的通知信息等。
- 截图尽可能避免广告、无关第三方产品或产品标识，
- 截图要避免有可能产生干扰或导致主次不分的内容被截入。
- 截图避免层次混乱的堆叠窗口。
- 截图避免截到半个字、随意的半张图、半张脸等情形。
- 截图避免有效内容和边距没有留白或留白过小。
- 避免行文中各截图分辨率差异明显的情况。
- 尽可能避免图片四周和文档背景没有边界的情况，比如图的四周是白色的，文档背景也是白色的，就会出现混乱感，最好在截图时做些考量。

### 利用代码的呈现规范

- 重要的代码，可能自己复用的代码、阅读者可能用到的代码、需要精确呈现和分色呈现的代码都应该放入代码段，并标明代码语言类型，以正确分色和格式化。

- 如果你对一个利用代码没有做任何修改，只需提供可找到该利用代码的URL即可。不必包含完整的未修改代码，特别是如果代码有数页之多的情况下。如果你对一个利用代码进行了修改，应包括以下内容：修改后的利用代码，原始利用代码的URL，用于生成任何shellcode的命令（如果适用）。 讲你所做修改的内容突出显示，并解释为什么进行了这些修改。

# 四、标题建议

大标题及行文中，要精确书写靶机名称和文体名称，如“Vulnbox W1R3S 1.0.1靶机渗透总结”是合适的。不写版本号或靶机名称等拼写错误，都容易给阅读者带来混乱。

二级标题尽可能用典型渗透攻击链的里程碑词语，以下是可能用到的建议性标题，仅是举例：

```
靶机描述
侦察和信息收集
nmap扫描
Gobuster目录爆破
nfs/samba/ftp等渗透
web渗透
john密码破解
按端口号列标题，如21端口渗透测试
获得系统立足点
User Flag
提权
Proof Flag
总结
修复、加固和防御
本靶机让我学到的
参考信息
```

# 五、工具

看大家如下方式都有涉及：自建博客、语雀、Typora、Obsidian、Confluence、Github Page、hexo、mkdocs、docsify、joplin、OneNote、Notion、Cherrytree等等。所以，我也不敢推荐说哪个好了，可能需求和喜好不一样吧。

但有一点是能够达成共识的，就是支持Markdown的、多平台的，至少是基于web的。

我个人用Obsidian全品台+官方同步服务，因为完全纯文本，也可以完全离线，关键时候完全没流量特征，官方同步服务效率高且稳定。

大家根据自己的需要选择吧。

